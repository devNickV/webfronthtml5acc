<html>
  <head>
    <title>Part Javascript testing of Web front-end html5 acceleration course</title>
		<link type="text/css" rel="stylesheet" href="vendor/syntaxhighlighter/shCore.css"></link>
		<link type="text/css" rel="stylesheet" href="vendor/syntaxhighlighter/shThemeDefault.css"></link>
		<script type="text/javascript" src="vendor/syntaxhighlighter/shCore.js"></script>
		<script type="text/javascript" src="vendor/syntaxhighlighter/shBrushJScript.js"></script>
		<script type="text/javascript">
		    SyntaxHighlighter.all();
		</script>
	</head>
  <body>
		<p>
			<a href="day0part0.html">Before start</a>
			<a href="day1part0.html">Start day 1</a>
			<a href="day1part1.html">[1.1]</a>
			<a href="day1part2.html">[1.2]</a>
			<a href="day1part3.html">[1.3]</a>
			<a href="day1part4.html">[1.4]</a>
			<a href="day1part5.html">[1.5]</a>
			<a href="day1part1.html">[2.1]</a>
		</p>
		<h2>Javascript testing (day 1, part 2)</h2>
		<h3>Why test javascript?</h3>
		Testing should be a crucial part of the development practice. Even more in javascript as in other languages. 
		A few reasons why this is even more important than it is several other languages/programming environments.
		
		<ul>
			<li>Javascript the bad parts (there are more then enough bad parts)</li>
			<li>Dynamic language (no static compile)</li>
			<li>Cross browser issues (javscript runs differently on different javascript engines/browsers)</li>
			<li>Although javascript started for very simple interactive elements on a webpage. It is becoming a language for full scale applications. This means complexity increases which cannot easily be controlled without tests.</li>
			<li>It is a must for maintainable and refactarable software under quality control</li>
		</ul>
			
		<h3>The first testing framework</h3>
		This is a first example of javascript testing library. It uses the yahoo testscript that is part of YUI3. 
		It is a unit test framework. 
		See <a href="https://github.com/yui/yui3/releases">https://github.com/yui/yui3/releases</a> for all more recent versions of this library. See <a href="http://yuilibrary.com/yui/docs/test/">http://yuilibrary.com/yui/docs/test/</a> for the documentation of this testing framework.
		<h3>How does TTD work?</h3>
		For the ones whe do not know where TDD stands for: <b>T</b>est <b>D</b>riven <b>D</b>evelepment. What is already in the name of 'Test driven' is that tests are the driving force. So let's start with our first javascript test (made with YUI3 library).
		<pre class="brush: javascript;">
		 	var testCase1 = new Y.Test.Case( {
				name: 'Sum Test', 
				testSumSimple: function () {
					Y.Assert.areSame(
						sum(2, 2), 
						4, 
						'2 + 2 does not equal 4?');
			}});
		</pre>
		<p>In a complete example we need some extra setup to make the results show up in a webpage. The complete example for this
				lesson is shown <a href="testLogConsole.html">here</a>. The real test starts with Y.Assert which in this case wants to
				see that to parts are 				the same (sum(2,2) equals 4). As a wrapper of the things that are reported there is a
				Test.Case which is the level of reporting and more as one tests can be combined into one testcase.</p>
				
		<p>Without having the code implement this testcase should fail. That is the practice of TDD:</p>
			<ul>
				<li>write test</li>
				<li>fail test</li>
				<li>write code</li>
				<li>succeed test</li>
				<li><b>refactor</b>!</li>
			</ul>
		<p>The first two steps and last step are the most important steps in TDD. Do you understand why it is so important that a test first fails?</p>
		<p>Tests will be run in this page: <a href="testLogConsole.html">testLogConsole.html</a>
		The image beneath shows the failing test<img src='images/TestLogConsoleFail.png'></p>
		<p>Beneath is the very oversimplified version of a solution to make the test above succeed.
		<pre class="brush: javascript;">
			function sum(a, b) {
			        return a + b;
			}
		</pre>
		After re-running the test this test should pass. <img src='images/TestLogConsolePass.png'>

		In this very simple example the refactor step out of the cycle of write test, fail, write code, fail, succceed, improve/refactor. In total this example has the following files needed for the main setup. To make this work within a course setting there are some extra files includede for the style of code (by <a href="http://alexgorbatchev.com/SyntaxHighlighter">syntaxhighlighter</a>)
		
		<p>This first example consists of the following files:</p>
		<ul>
			<li><b>app/sum.js:</b> The code that needs to be tested</li>
			<li><b>tests/sumTests.js:</b> The tests</li>
			<li><b>TestLogConsole.html:</b> An overview of the test and if they succeed or fail</li>
			<li><b>vendor/yui-min.js:</b> The library used for this test </li>
			<li><b>day1part1.html:</b> This file</li>
		</ul>
		<h3>Excercise:</h3>
		<ol>
			<li>Write a few tests for a function that only sets the first letter of the input to upper case</li>
				<ul>
					<li>'test case 1' becomes 'Test case 1'</li>
					<li>'Test case 2' becomes 'Test case 1'</li>
					<li>'Test case 3' does not becomes 'Test case 3'</li>
					<li>' test case 4' becomes ' Test case 4'</li>
					<li>'.test case 5' becomes '.Test case 5'</li>
					<li>'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test case 6' becomes 
							'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test case 6'</li>
					<li>4 returns 4</li>
					<li>true returns true</li>
					<li>'.@$%#&46' returns '.@$%#&46'</li>
					<li>more .....</li>
				</ul>
			<li>Write the code that succeeds in all above cases</li>
			<li>Refactor your code!</li>
		</ol>
		
		<h3>Time based tests</h3>
		<h3>User-interface based tests</h3>
	</body>
</html>